<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta name="description" content="">
    <meta name="keyword" content="">

    <title>Hexo NexT主题美化与功能拓展 | Nintheaven</title>
    <link rel="shortcut icon" href="/images/favicon.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
        
<link rel="stylesheet" href="/css/highlight/github.css">

        
<link rel="stylesheet" href="/css/post.css">

    
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <header>
    
    <div class="navbar-container">
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="/images/favicon.ico" alt="" width="30" height="24" class="d-inline-block align-text-top">
                Nintheaven
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 35vh;">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/">首页</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/notes">笔记</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/essays">随笔</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/projects">作品</a>
                    </li>
                    
                </ul>

                <!--
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">搜索</button>
                </form>
                -->
            </div>
        </div>
    </nav>
</div>

    
    
</header>

    <main><div class="post">
    <h3 class="title">Hexo NexT主题美化与功能拓展</h3>

    <div class="meta">
        <div>
            <span class="page-class">笔记</span>
            <span>: </span>
            <a class="cate" href="/notes/#建站">建站</a>
        </div>
        <div class="date">
            <span>发布于</span>
            <span>: </span>
            <span>2020-02-05</span>
        </div>
    </div>

    <div class="content"><span id="more"></span>

<h1 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h1><ul>
<li>菜单功能</li>
<li>显示侧边栏头像</li>
<li>网站图标设置</li>
<li>设置页面内容加载中效果</li>
<li>添加canvas-nest动态效果</li>
<li>调整网站样式</li>
<li>调整侧边栏</li>
<li>页脚footer中的内容</li>
<li>推荐链接</li>
<li>文章字数统计和阅读时长</li>
<li>文章列表显示摘要</li>
<li>添加文章结束标记</li>
<li>文章末尾启用版权声明</li>
<li>Fork me on GitHub</li>
<li>访问量统计</li>
<li>评论功能</li>
<li>RSS订阅功能</li>
<li>generate的时候忽略某些文件</li>
<li>搜索功能</li>
<li>seo优化(baidu &amp; google)</li>
<li>置顶文章</li>
<li>打赏功能</li>
<li>自定义Page页面</li>
</ul>
<!-- more -->


<h1 id="菜单功能"><a href="#菜单功能" class="headerlink" title="菜单功能"></a>菜单功能</h1><p>1.编辑nexT配置文件的menu项，其中，除了projects是自己添加的，其它都是默认就有的，只需要关闭注释即可</p>
<pre><code class="hljs yaml"><span class="hljs-attr">menu:</span>
  <span class="hljs-attr">home:</span> <span class="hljs-string">/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-home</span>
  <span class="hljs-attr">categories:</span> <span class="hljs-string">/categories/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-th-large</span>
  <span class="hljs-attr">tags:</span> <span class="hljs-string">/tags/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-hashtag</span>
  <span class="hljs-attr">archives:</span> <span class="hljs-string">/archives/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-archive</span>
  <span class="hljs-attr">projects:</span> <span class="hljs-string">/projects/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-cubes</span>
  <span class="hljs-attr">about:</span> <span class="hljs-string">/about/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-user</span>
  <span class="hljs-comment">#schedule: /schedule/ || fa fa-calendar</span>
  <span class="hljs-comment">#sitemap: /sitemap.xml || fa fa-sitemap</span>
  <span class="hljs-comment">#commonweal: /404/ || fa fa-heartbeat</span>

<span class="hljs-comment"># Enable / Disable menu icons / item badges.</span>
<span class="hljs-attr">menu_settings:</span>
  <span class="hljs-attr">icons:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">badges:</span> <span class="hljs-literal">false</span></code></pre>

<p>||前面变得内容为URL路径，后面的内容为菜单项图标,使用 <a target="_blank" rel="noopener" href="http://www.fontawesome.com.cn/">FontAwesome</a> 网站中的字体资源。</p>
<p>2.设置中文翻译，编辑 languages&#x2F;zh-CN.yml 文件的menu项</p>
<pre><code class="hljs yaml"><span class="hljs-attr">menu:</span>
  <span class="hljs-attr">home:</span> <span class="hljs-string">首页</span>
  <span class="hljs-attr">archives:</span> <span class="hljs-string">归档</span>
  <span class="hljs-attr">categories:</span> <span class="hljs-string">分类</span>
  <span class="hljs-attr">tags:</span> <span class="hljs-string">标签</span>
  <span class="hljs-attr">about:</span> <span class="hljs-string">关于</span>
  <span class="hljs-attr">search:</span> <span class="hljs-string">搜索</span>
  <span class="hljs-attr">schedule:</span> <span class="hljs-string">日程表</span>
  <span class="hljs-attr">sitemap:</span> <span class="hljs-string">站点地图</span>
  <span class="hljs-attr">commonweal:</span> <span class="hljs-string">公益</span> <span class="hljs-number">404</span>
  <span class="hljs-attr">projects:</span> <span class="hljs-string">项目</span> <span class="hljs-comment"># 自定义菜单</span></code></pre>

<p>3.创建对应的页面，在hexo项目目录下，运行命令</p>
<p><code>hexo new page &quot;categories&quot;</code></p>
<p><code>hexo new page &quot;tags&quot;</code></p>
<p><code>hexo new page &quot;about&quot;</code></p>
<p><code>hexo new page &quot;projects&quot;</code></p>
<p>执行命令后，Hexo会在项目的source目录下生成对应的文件夹，修改每一个中的index.md内容，以categories为例</p>
<pre><code class="hljs markdown">---
title: 分类
date: 2021-09-19 21:39:31
type: &quot;categories&quot;
<span class="hljs-section">comments: false</span>
<span class="hljs-section">---</span></code></pre>

<p>OK!</p>
<h1 id="显示侧边栏头像"><a href="#显示侧边栏头像" class="headerlink" title="显示侧边栏头像"></a>显示侧边栏头像</h1><p>复制头像图片到主题 source&#x2F;images&#x2F; 文件夹下，修改图片名为 avatar.xxx</p>
<p>编辑nexT配置文件中的avatar项</p>
<pre><code class="hljs yml"><span class="hljs-attr">avatar:</span>
  <span class="hljs-comment"># 图片路径</span>
  <span class="hljs-attr">url:</span> <span class="hljs-string">/images/avatar.jpg</span>
  <span class="hljs-comment"># 是否显示为圆形图片</span>
  <span class="hljs-attr">rounded:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># 是否启用旋转动画</span>
  <span class="hljs-attr">rotated:</span> <span class="hljs-literal">true</span></code></pre>

<h1 id="网站图标设置"><a href="#网站图标设置" class="headerlink" title="网站图标设置"></a>网站图标设置</h1><p>复制16x16与32x32尺寸的图标文件到主题 source&#x2F;images&#x2F; 文件夹下</p>
<p>编辑nexT配置文件中的favicon项</p>
<pre><code class="hljs yml"><span class="hljs-attr">favicon:</span>
  <span class="hljs-attr">small:</span> <span class="hljs-string">/images/favicon-16x16.ico</span>
  <span class="hljs-attr">medium:</span> <span class="hljs-string">/images/favicon-32x32.ico</span>
  <span class="hljs-attr">apple_touch_icon:</span> <span class="hljs-string">/images/apple-touch-icon-next.png</span>
  <span class="hljs-attr">safari_pinned_tab:</span> <span class="hljs-string">/images/logo.svg</span>
  <span class="hljs-comment">#android_manifest: /manifest.json</span></code></pre>

<h1 id="设置页面内容加载中效果"><a href="#设置页面内容加载中效果" class="headerlink" title="设置页面内容加载中效果"></a>设置页面内容加载中效果</h1><p>参考github项目说明: <a target="_blank" rel="noopener" href="https://github.com/theme-next/theme-next-pace">https://github.com/theme-next/theme-next-pace</a></p>
<p>clone项目代码到nexT项目的 source&#x2F;lib&#x2F;文件夹下</p>
<p><code>cd themes/next</code></p>
<p><code>git clone git@github.com:theme-next/theme-next-pace.git source/lib/pace</code></p>
<p>编辑nexT配置文件中的pace项，启用，可以配置颜色和主题</p>
<pre><code class="hljs yaml"><span class="hljs-attr">pace:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># All available colors:</span>
  <span class="hljs-comment"># black | blue | green | orange | pink | purple | red | silver | white | yellow</span>
  <span class="hljs-attr">color:</span> <span class="hljs-string">silver</span>
  <span class="hljs-comment"># All available themes:</span>
  <span class="hljs-comment"># big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span>
  <span class="hljs-comment"># corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span>
  <span class="hljs-attr">theme:</span> <span class="hljs-string">center-radar</span></code></pre>

<h1 id="添加canvas-nest动态效果"><a href="#添加canvas-nest动态效果" class="headerlink" title="添加canvas-nest动态效果"></a>添加canvas-nest动态效果</h1><p>参考github项目说明: <a target="_blank" rel="noopener" href="https://github.com/theme-next/theme-next-canvas-nest">https://github.com/theme-next/theme-next-canvas-nest</a></p>
<p>在项目下的 source&#x2F;_data&#x2F; 文件夹下新建文件 footer.njk，内容为</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;0,0,255&quot;</span> <span class="hljs-attr">opacity</span>=<span class="hljs-string">&quot;0.5&quot;</span> <span class="hljs-attr">zIndex</span>=<span class="hljs-string">&quot;-1&quot;</span> <span class="hljs-attr">count</span>=<span class="hljs-string">&quot;99&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>

<p>其中,color设置颜色，opacity设置透明度，src为cdn地址。</p>
<p>然后，在nexT配置文件中，找到custom_file_path配置项，关闭footer注释</p>
<pre><code class="hljs yml"><span class="hljs-attr">custom_file_path:</span>
  <span class="hljs-attr">footer:</span> <span class="hljs-string">source/_data/footer.njk</span></code></pre>

<h1 id="调整网站样式"><a href="#调整网站样式" class="headerlink" title="调整网站样式"></a>调整网站样式</h1><p>在nexT配置文件中，找到custom_file_path配置项，关闭style注释</p>
<pre><code class="hljs yaml"><span class="hljs-attr">custom_file_path:</span>  
  <span class="hljs-attr">style:</span> <span class="hljs-string">source/_data/styles.styl</span></code></pre>

<p>然后，在项目下的 source&#x2F;_data&#x2F; 文件夹下新建文件 styles.styl，内容为css</p>
<pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#222222</span> <span class="hljs-meta">!important</span>;
&#125;</code></pre>

<h1 id="调整侧边栏"><a href="#调整侧边栏" class="headerlink" title="调整侧边栏"></a>调整侧边栏</h1><p>侧边栏默认已经启用，编辑nexT配置文件中的sidebar项，可以控制侧边栏的显示位置，宽度和显示时机</p>
<pre><code class="hljs yaml"><span class="hljs-attr">sidebar:</span>
  <span class="hljs-comment"># Sidebar Position.</span>
  <span class="hljs-comment">#position: left</span>
  <span class="hljs-attr">position:</span> <span class="hljs-string">right</span>

  <span class="hljs-comment"># Manual define the sidebar width. If commented, will be default for:</span>
  <span class="hljs-comment"># Muse | Mist: 320</span>
  <span class="hljs-comment"># Pisces | Gemini: 240</span>
  <span class="hljs-comment">#width: 300</span>

  <span class="hljs-comment"># Sidebar Display (only for Muse | Mist), available values:</span>
  <span class="hljs-comment">#  - post    expand on posts automatically. Default.</span>
  <span class="hljs-comment">#  - always  expand for all pages automatically.</span>
  <span class="hljs-comment">#  - hide    expand only when click on the sidebar toggle icon.</span>
  <span class="hljs-comment">#  - remove  totally remove sidebar including sidebar toggle.</span>
  <span class="hljs-attr">display:</span> <span class="hljs-string">post</span>

  <span class="hljs-comment"># Sidebar padding in pixels.</span>
  <span class="hljs-attr">padding:</span> <span class="hljs-number">18</span>
  <span class="hljs-comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span>
  <span class="hljs-attr">offset:</span> <span class="hljs-number">12</span></code></pre>

<h1 id="页脚footer中的内容"><a href="#页脚footer中的内容" class="headerlink" title="页脚footer中的内容"></a>页脚footer中的内容</h1><p>修改nextT配置文件中的footer项</p>
<pre><code class="hljs yaml"><span class="hljs-attr">footer:</span>  
  <span class="hljs-comment"># 建站时间,默认为当前年份  </span>
  <span class="hljs-attr">since:</span> <span class="hljs-number">2021</span>  
  <span class="hljs-comment"># 建站时间与版权声明之间的图标  </span>
  <span class="hljs-attr">icon:</span>    
    <span class="hljs-attr">name:</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-motorcycle</span>    
    <span class="hljs-attr">animated:</span> <span class="hljs-literal">true</span>    
    <span class="hljs-attr">color:</span> <span class="hljs-string">&quot;#eee&quot;</span>  
  <span class="hljs-comment"># 版权声明</span>
  <span class="hljs-attr">copyright:</span> <span class="hljs-string">&quot;Copyright © 2021 L.Y.P的博客 版权所有&quot;</span>  
  <span class="hljs-comment"># 是否显示Powered by Hexo &amp; NexT  </span>
  <span class="hljs-attr">powered:</span> <span class="hljs-literal">false</span>  
  <span class="hljs-comment"># ICP与公安备案  </span>
  <span class="hljs-comment"># Beian ICP and gongan information for Chinese users. See: https://beian.miit.gov.cn, http://www.beian.gov.cn  </span>
  <span class="hljs-attr">beian:</span>    
    <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span>    
    <span class="hljs-attr">icp:</span>     
    <span class="hljs-comment"># The digit in the num of gongan beian.    </span>
    <span class="hljs-attr">gongan_id:</span>    
    <span class="hljs-comment"># The full num of gongan beian.    </span>
    <span class="hljs-attr">gongan_num:</span>   
    <span class="hljs-comment"># The icon for gongan beian. See: http://www.beian.gov.cn/portal/download    </span>
    <span class="hljs-attr">gongan_icon_url:</span></code></pre>

<h1 id="推荐链接-友链"><a href="#推荐链接-友链" class="headerlink" title="推荐链接(友链)"></a>推荐链接(友链)</h1><p>编辑nexT配置文件中的 links_settings 和 links 配置项</p>
<pre><code class="hljs yaml"><span class="hljs-attr">links_settings:</span>
  <span class="hljs-attr">icon:</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-globe</span>
  <span class="hljs-attr">title:</span> <span class="hljs-string">推荐网站</span> <span class="hljs-comment">#Links</span>
  <span class="hljs-comment"># Available values: block | inline</span>
  <span class="hljs-attr">layout:</span> <span class="hljs-string">block</span>

<span class="hljs-attr">links:</span>
  <span class="hljs-comment">#Title: https://example.com</span>
  <span class="hljs-attr">Hexo:</span> <span class="hljs-string">https://hexo.io/zh-cn/</span>
  <span class="hljs-attr">Spring:</span> <span class="hljs-string">https://spring.io/</span></code></pre>

<p>默认会显示到侧栏的用户信息面板中，很不nice，一般不会这样子使用，而是创建一个“友情链接”页面，具体参见<strong>自定义page页面</strong>。</p>
<h1 id="社交链接"><a href="#社交链接" class="headerlink" title="社交链接"></a>社交链接</h1><p>编辑nexT配置文件中的 social 和 social_icons 配置项</p>
<pre><code class="hljs yaml"><span class="hljs-attr">social:</span>
  <span class="hljs-attr">GitHub:</span> <span class="hljs-string">https://github.com/lypzzzzz</span> <span class="hljs-string">||</span> <span class="hljs-string">fab</span> <span class="hljs-string">fa-github</span>
  <span class="hljs-attr">E-Mail:</span> <span class="hljs-string">mailto:lypzzzzz@163.com</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-envelope</span>
  <span class="hljs-comment">#Weibo: https://weibo.com/yourname || fab fa-weibo</span>
  <span class="hljs-comment">#Google: https://plus.google.com/yourname || fab fa-google</span>
  <span class="hljs-comment">#Twitter: https://twitter.com/yourname || fab fa-twitter</span>
  <span class="hljs-comment">#FB Page: https://www.facebook.com/yourname || fab fa-facebook</span>
  <span class="hljs-comment">#StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span>
  <span class="hljs-comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span>
  <span class="hljs-comment">#Instagram: https://instagram.com/yourname || fab fa-instagram</span>
  <span class="hljs-comment">#Skype: skype:yourname?call|chat || fab fa-skype</span>

<span class="hljs-attr">social_icons:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">icons_only:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">transition:</span> <span class="hljs-literal">false</span></code></pre>

<h1 id="文章字数统计和阅读时长"><a href="#文章字数统计和阅读时长" class="headerlink" title="文章字数统计和阅读时长"></a>文章字数统计和阅读时长</h1><p>这里使用的是nexT-v7.8.0，该版本已经不能使用 <a target="_blank" rel="noopener" href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a> 这个模块了，取而代之的是 <a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-symbols-count-time">hexo-symbols-count-time</a> 模块。</p>
<p>运行npm命令安装</p>
<p><code>npm install hexo-symbols-count-time --save</code></p>
<p>编辑hexo配置文件，添加如下配置项</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># 文章统计插件配置</span>
<span class="hljs-comment"># https://github:com/theme-next/hexo-symbols-count-time:</span>
<span class="hljs-attr">symbols_count_time:</span>
  <span class="hljs-attr">symbols:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">time:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">total_symbols:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">total_time:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">exclude_codeblock:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">awl:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">wpm:</span> <span class="hljs-number">300</span>
  <span class="hljs-comment">#suffix: &quot;mins.&quot;</span></code></pre>

<p>参数说明：</p>
<ul>
<li>awl: 平均单词长度(Average Word Length)，中文为2，英文为4</li>
<li>wpm: 每分钟阅读单词数(Words Per Minute)</li>
</ul>
<p>然后，编辑nexT配置文件的 symbols_count_time 配置项</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># Post wordcount display settings</span>
<span class="hljs-comment"># Dependencies: https://github.com/next-theme/hexo-word-counter</span>
<span class="hljs-attr">symbols_count_time:</span>
  <span class="hljs-attr">separated_meta:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">item_text_post:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">item_text_total:</span> <span class="hljs-literal">false</span></code></pre>

<h1 id="文章列表显示摘要"><a href="#文章列表显示摘要" class="headerlink" title="文章列表显示摘要"></a>文章列表显示摘要</h1><p>默认全文显示，显示摘要只需要在编写markdown的时候，使用下面html注释进行分割即可，上面的内容将显示为摘要，同时添加”阅读全文”按钮</p>
<pre><code class="hljs html"><span class="hljs-comment">&lt;!-- more --&gt;</span></code></pre>

<h1 id="添加文章结束标记"><a href="#添加文章结束标记" class="headerlink" title="添加文章结束标记"></a>添加文章结束标记</h1><p>在主题nexT下的 layout&#x2F;_macro&#x2F; 文件夹中创建 passage-end-tag.njk 模板 文件，内容如下</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span>
<span class="language-css">      <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.passage-end-tag</span> &#123;</span>
<span class="language-css">        <span class="hljs-attribute">text-align</span>:center; </span>
<span class="language-css">        <span class="hljs-attribute">color</span>: <span class="hljs-number">#64CEAA</span>;</span>
<span class="language-css">        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>; </span>
<span class="language-css">        <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;</span>
<span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">5px</span> <span class="hljs-number">0</span>;</span>
<span class="language-css">      &#125;</span>
<span class="language-css"></span>
<span class="language-css">      <span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1080px</span>)&#123;</span>
<span class="language-css">        <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.passage_end_tag</span> &#123;</span>
<span class="language-css">          <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8rem</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css">      &#125;</span>
<span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

    &#123;% if not is_index %&#125;
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;passage-end-tag&quot;</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-symbol">&amp;lt;</span>-- <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>文章内容难免有误<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-thumbs-up&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: red;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>欢迎在留言区进行指正<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-thumbs-down&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: red;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span> --<span class="hljs-symbol">&amp;gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    &#123;% endif %&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>

<p>修改主题nexT下的 layout&#x2F;_macro&#x2F; 文件夹中的 post.njk 模板文件，在末尾添加以下代码include刚刚创建的模板</p>
<pre><code class="hljs html">&#123;% if not is_index and theme.passage_end_tag.enabled %&#125;
  &#123;% include &#x27;passage-end-tag.njk&#x27; %&#125;
&#123;% endif %&#125;</code></pre>

<p>最后，在nexT配置文件中添加配置项，以控制是否启用”本文结束”标记</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># 启用文章结束标记</span>
<span class="hljs-attr">passage_end_tag:</span>  
  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span></code></pre>

<h1 id="文章末尾启用版权声明"><a href="#文章末尾启用版权声明" class="headerlink" title="文章末尾启用版权声明"></a>文章末尾启用版权声明</h1><p>在nexT配置文件中，修改 creative_commons.post 配置项，将其设置为true即可</p>
<pre><code class="hljs yml"><span class="hljs-comment"># Creative Commons 4.0 International License.</span>
<span class="hljs-comment"># See: https://creativecommons.org/about/cclicenses/</span>
<span class="hljs-attr">creative_commons:</span>
  <span class="hljs-comment"># Available values: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | cc-zero</span>
  <span class="hljs-attr">license:</span> <span class="hljs-string">by-nc-sa</span>
  <span class="hljs-comment"># Available values: big | small</span>
  <span class="hljs-attr">size:</span> <span class="hljs-string">small</span>
  <span class="hljs-attr">sidebar:</span> <span class="hljs-literal">false</span>
  <span class="hljs-attr">post:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># You can set a language value if you prefer a translated version of CC license, e.g. deed.zh</span>
  <span class="hljs-comment"># CC licenses are available in 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org</span>
  <span class="hljs-attr">language:</span></code></pre>

<h1 id="Fork-me-on-GitHub"><a href="#Fork-me-on-GitHub" class="headerlink" title="Fork me on GitHub"></a>Fork me on GitHub</h1><p><a target="_blank" rel="noopener" href="https://tholman.com/github-corners/">GitHub Corners</a></p>
<p><a target="_blank" rel="noopener" href="https://github.blog/2008-12-19-github-ribbons/">GitHub Ribbons</a></p>
<p>从上面2个网站拷贝喜欢的样式代码，将其粘贴到nesT中的 layout&#x2F;_layout.njk 文件中，位置如下：</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;headband&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/lypzzzzz&quot;</span>&gt;</span>  
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">&quot;lazy&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;149&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;149&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://github.blog/wp-content/uploads/2008/12/forkme_left_red_aa0000.png?resize=149%2C149&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;attachment-full size-full&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Fork me on GitHub&quot;</span> <span class="hljs-attr">data-recalc-dims</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre>

<p>设置href为自己的github主页。</p>
<p>使用Ribbons图片的时候，并没有固定到左上角或者右上角，而是单独占据一行，需要手动添加css样式。</p>
<p>给复制的a标签添加一个class，叫做fork-me-on-github，在刚才复制代码的附近添加样式，将其固定到合适的位置：</p>
<pre><code class="hljs css">&lt;style&gt;
  <span class="hljs-selector-class">.fork-me-on-github</span> &#123;
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  &#125;
&lt;/style&gt;</code></pre>

<p>还存在一个问题，在屏幕较小时(移动端)，会遮挡内容，例如搜索按钮，我的解决办法是，在小屏幕上直接不显示它</p>
<pre><code class="hljs plaintext">&lt;style&gt;
  @media screen and (max-width: 1080px) &#123;
    .fork-me-on-github &#123;
      display: none;
    &#125;
  &#125;
&lt;/style&gt;</code></pre>

<h1 id="访问量统计"><a href="#访问量统计" class="headerlink" title="访问量统计"></a>访问量统计</h1><p>不祘子统计工具作者网站：<a target="_blank" rel="noopener" href="http://ibruce.info/2015/04/04/busuanzi/">http://ibruce.info/2015/04/04/busuanzi/</a></p>
<p>nexT-v7.8.0中，只需要启用不祘子统计功能即可。</p>
<p>编辑nexT配置文件的 busuanzi_count 配置项，内容如下</p>
<pre><code class="hljs yaml"><span class="hljs-attr">busuanzi_count:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">total_visitors:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">total_visitors_icon:</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-user</span>
  <span class="hljs-attr">total_views:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">total_views_icon:</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-eye</span>
  <span class="hljs-attr">post_views:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">post_views_icon:</span> <span class="hljs-string">far</span> <span class="hljs-string">fa-eye</span>
<span class="hljs-comment">#  下面是nexT-v5.x版本的配置</span>
<span class="hljs-comment">#  site_uv: true</span>
<span class="hljs-comment">#  site_uv_header: 访客数</span>
<span class="hljs-comment">#  site_uv_footer: 人</span>
<span class="hljs-comment">#  site_pv: true</span>
<span class="hljs-comment">#  site_pv_header: 浏览量</span>
<span class="hljs-comment">#  site_pv_footer: 次</span>
<span class="hljs-comment">#  page_pv: true</span>
<span class="hljs-comment">#  page_pv_header: 阅读量</span>
<span class="hljs-comment">#  page_pv_footer: 次</span></code></pre>

<h1 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h1><p>一些评论系统:</p>
<ul>
<li>gitment: <a target="_blank" rel="noopener" href="https://github.com/imsun/gitment">https://github.com/imsun/gitment</a></li>
<li>gitalk: <a target="_blank" rel="noopener" href="https://gitalk.github.io/">https://gitalk.github.io</a></li>
<li>来必力: <a target="_blank" rel="noopener" href="http://livere.com/">http://livere.com/</a></li>
<li>valine: <a target="_blank" rel="noopener" href="https://valine.js.org/">https://valine.js.org/</a></li>
</ul>
<p><strong>gitalk</strong></p>
<p>首先，需要在github上注册新的Auth App，地址：<a target="_blank" rel="noopener" href="https://github.com/settings/applications/new">https://github.com/settings/applications/new</a> 。</p>
<p>注册后，会生成 Client ID 和 Client Secrets ，保存这2个东西，配置要用到。</p>
<p>然后，在nexT配置文件中，找到gitalk配置项，设置如下</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># Gitalk</span>
<span class="hljs-comment"># For more information: https://gitalk.github.io</span>
<span class="hljs-attr">gitalk:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">github_id:</span> <span class="hljs-string">lypzzzzz</span> <span class="hljs-comment"># GitHub repo owner</span>
  <span class="hljs-attr">repo:</span> <span class="hljs-string">lypzzzzz.github.io</span> <span class="hljs-comment"># Repository name to store issues</span>
  <span class="hljs-attr">client_id:</span> <span class="hljs-string">852e5be5f1ddc5e89c77</span> <span class="hljs-comment"># GitHub Application Client ID</span>
  <span class="hljs-attr">client_secret:</span> <span class="hljs-string">1318e86c7a19109b1baf0e35c594915929f1df14</span> <span class="hljs-comment"># GitHub Application Client Secret</span>
  <span class="hljs-attr">admin_user:</span> <span class="hljs-string">lypzzzzz</span> <span class="hljs-comment"># GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span>
  <span class="hljs-attr">distraction_free_mode:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># Facebook-like distraction free mode</span>
  <span class="hljs-comment"># When the official proxy is not available, you can change it to your own proxy address</span>
  <span class="hljs-attr">proxy:</span> <span class="hljs-string">https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token</span> <span class="hljs-comment"># This is official proxy adress</span>
  <span class="hljs-comment"># Gitalk&#x27;s display language depends on user&#x27;s browser or system environment</span>
  <span class="hljs-comment"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span>
  <span class="hljs-comment"># Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span>
  <span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span></code></pre>

<p>nexT-v7中，默认已经集成了gitalk及其它常用的评论系统，进行少量配置即可完成评论功能的添加！非常nice！</p>
<h1 id="RSS订阅功能"><a href="#RSS订阅功能" class="headerlink" title="RSS订阅功能"></a>RSS订阅功能</h1><p>github地址: <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">https://github.com/hexojs/hexo-generator-feed</a></p>
<p>安装模块</p>
<p><code>npm install hexo-generator-feed --save</code></p>
<p>在hexo配置文件中添加如下配置</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># RSS插件配置</span>
<span class="hljs-comment"># https://github.com/hexojs/hexo-generator-feed</span>
<span class="hljs-attr">feed:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># Generate both atom and rss2 feeds</span>
  <span class="hljs-attr">type:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">atom</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">rss2</span>
  <span class="hljs-attr">path:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">atom.xml</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">rss2.xml</span>
  <span class="hljs-attr">limit:</span> <span class="hljs-number">20</span>
  <span class="hljs-attr">hub:</span>
  <span class="hljs-attr">content:</span>
  <span class="hljs-attr">content_limit:</span> <span class="hljs-number">140</span>
  <span class="hljs-attr">content_limit_delim:</span> <span class="hljs-string">&#x27; &#x27;</span>
  <span class="hljs-attr">order_by:</span> <span class="hljs-string">-date</span>
  <span class="hljs-attr">icon:</span> <span class="hljs-string">icon.png</span>
  <span class="hljs-attr">autodiscovery:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">template:</span></code></pre>

<p>在nexT配置文件中开启RSS功能，找到 follow_me 配置项，关闭RSS项的注释</p>
<pre><code class="hljs yaml"><span class="hljs-attr">follow_me:</span>
  <span class="hljs-comment">#Twitter: https://twitter.com/username || fab fa-twitter</span>
  <span class="hljs-comment">#Telegram: https://t.me/channel_name || fab fa-telegram</span>
  <span class="hljs-comment">#WeChat: /images/wechat_channel.jpg || fab fa-weixin</span>
  <span class="hljs-attr">RSS:</span> <span class="hljs-string">/atom.xml</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-rss</span></code></pre>

<p>此时，运行 <code>hexo g</code> 时，会在hexo的 public&#x2F; 文件夹下生成 atom.xml 和 rss2.xml。</p>
<h1 id="generate的时候忽略某些文件"><a href="#generate的时候忽略某些文件" class="headerlink" title="generate的时候忽略某些文件"></a>generate的时候忽略某些文件</h1><p>hexo配置文件中的 skip_render 配置项，用于设置在渲染时要忽略的source文件夹下的文件或目录</p>
<p>忽略 README.md</p>
<pre><code class="hljs yaml"><span class="hljs-attr">skip_render:</span>  
  <span class="hljs-bullet">-</span> <span class="hljs-string">README.md</span></code></pre>

<h1 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h1><p>github地址: <a target="_blank" rel="noopener" href="https://github.com/next-theme/hexo-generator-searchdb">https://github.com/next-theme/hexo-generator-searchdb</a></p>
<p>安装模块</p>
<p><code>npm install hexo-generator-searchdb</code></p>
<p>编辑hexo配置文件，添加以下配置</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># 搜索插件配置</span>
<span class="hljs-comment"># https://github.com/next-theme/hexo-generator-searchdb</span>
<span class="hljs-attr">search:</span>
  <span class="hljs-attr">path:</span> <span class="hljs-string">search.xml</span>
  <span class="hljs-attr">field:</span> <span class="hljs-string">post</span>
  <span class="hljs-attr">content:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">format:</span> <span class="hljs-string">html</span></code></pre>

<p>运行 <code>hexo g</code> 时，会在 public&#x2F; 目录下生成 search.xml</p>
<p>然后，编辑nexT配置文件中的 local_search 配置项，内容如下</p>
<pre><code class="hljs yaml"><span class="hljs-comment"># Local Search</span>
<span class="hljs-comment"># Dependencies: https://github.com/next-theme/hexo-generator-searchdb</span>
<span class="hljs-attr">local_search:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-comment"># If auto, trigger search by changing input.</span>
  <span class="hljs-comment"># If manual, trigger search by pressing enter key or search button.</span>
  <span class="hljs-attr">trigger:</span> <span class="hljs-string">manual</span>
  <span class="hljs-comment"># Show top n results per article, show all results by setting to -1</span>
  <span class="hljs-attr">top_n_per_article:</span> <span class="hljs-number">1</span>
  <span class="hljs-comment"># Unescape html strings to the readable one.</span>
  <span class="hljs-attr">unescape:</span> <span class="hljs-literal">false</span>
  <span class="hljs-comment"># Preload the search data when the page loads.</span>
  <span class="hljs-attr">preload:</span> <span class="hljs-literal">false</span></code></pre>

<p>重启服务后，侧边栏会自动添加了”搜索”功能。</p>
<h1 id="seo优化-baidu-amp-google"><a href="#seo优化-baidu-amp-google" class="headerlink" title="seo优化(baidu &amp; google)"></a>seo优化(baidu &amp; google)</h1><p>参考知乎文章: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/100922816">Hexo 博客提交百度、谷歌搜索引擎收录</a></p>
<p>安装站点地图生成插件</p>
<p><code>npm install hexo-generator-sitemap --save</code></p>
<p>然后修改hexo配置文件中的url配置项为个人域名</p>
<pre><code class="hljs yaml"><span class="hljs-attr">url:</span> <span class="hljs-string">https://lypzz.com/</span> <span class="hljs-comment"># https://lypzzz.github.io/root: /</span></code></pre>

<p>此时，重新部署项目，会在hexo的 public&#x2F; 文件夹下生成 sitemap.xml 文件，可以通过 <a target="_blank" rel="noopener" href="http://lypzz.com/sitemap.xml">http://lypzz.com/sitemap.xml</a> 进行访问。</p>
<p><strong>添加到google搜索</strong></p>
<p>地址:  <a target="_blank" rel="noopener" href="https://search.google.com/search-console/welcome?hl=zh-CN">Google Search Console</a> 。</p>
<p>支持2种方式：网域 和 网址前缀，推荐使用网域方式。</p>
<p>按照提示输入域名或子域名，例如: lypzz.com，然后google会提供一个主机记录值，要求在域名服务商控制台中添加一个TXT类型的主机记录。</p>
<p>添加后，进行验证。</p>
<p>最后，将站点地图访问URL添加到 Google Search Console 中的站点地图配置中。</p>
<p>OK，等待Google搜索收录即可！</p>
<p>可以使用Google搜索关键 <em>site:域名</em> 查看是否已被收录。</p>
<h1 id="置顶文章"><a href="#置顶文章" class="headerlink" title="置顶文章"></a>置顶文章</h1><p>卸载之前的 hexo-generator-index 插件</p>
<p><code>npm uninstall hexo-generator-index --save</code></p>
<p>安装 generator-index-pin-top 插件</p>
<p><code>npm install hexo-generator-index-pin-top --save</code></p>
<p>在nexT主题的 layout&#x2F;_partials&#x2F;post&#x2F;post-meta.njk 中，添加置顶标志的代码</p>
<pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-meta&quot;</span>&gt;</span>
    &#123;# 置顶文章 #&#125;
    &#123;% if post.top %&#125;
    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;fa fa-thumb-tack&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: #64CEAA&quot;</span>&gt;</span>置顶<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post-meta-divider&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    &#123;% endif %&#125;
    
    &#123;# 其它内容 #&#125;
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>

<p>在编写文章的时候，在信息区添加 <em>top: true</em> 配置</p>
<pre><code class="hljs markdown">---
title: Hexo+GitPages搭建个人博客.md
date: 2021-08-19 11:25:49
categories:
tags:
<span class="hljs-section">top: true</span>
<span class="hljs-section">---</span></code></pre>

<h1 id="打赏功能"><a href="#打赏功能" class="headerlink" title="打赏功能"></a>打赏功能</h1><p>nexT-v7.7.1已经默认添加了打赏功能，只需要开启它。</p>
<p>首先需要去相应的支付应用获取支付二维码图片，复制到nextT的 source&#x2F;images&#x2F; 文件夹下。</p>
<p>然后，编辑nexT主题配置文件的 reward_settings 配置项，启用它</p>
<pre><code class="hljs yaml"><span class="hljs-attr">reward_settings:</span>
  <span class="hljs-comment"># If true, a donate button will be displayed in every article by default.</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">animation:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">comment:</span> <span class="hljs-string">请Ta抽根华子</span></code></pre>

<h1 id="自定义Page页面"><a href="#自定义Page页面" class="headerlink" title="自定义Page页面"></a>自定义Page页面</h1><p><strong>创建友链页面</strong></p>
<p>使用 new page 创建创建友链页面</p>
<p><code>hexo new page links</code></p>
<p>然后，在hexo的source目录下生成的links&#x2F;index.md中声明一下Front-Matter信息，关键是 type 项</p>
<pre><code class="hljs markdown">---
title: 友情链接
type: &quot;links&quot;
date: 2021-09-21 16:25:11
<span class="hljs-section">comments: false</span>
<span class="hljs-section">---</span></code></pre>

<p>在nexT配置文件中的menu配置项下添加友链项</p>
<pre><code class="hljs yaml"><span class="hljs-attr">menu:</span>
  <span class="hljs-attr">links:</span> <span class="hljs-string">/links/</span> <span class="hljs-string">||</span> <span class="hljs-string">fa</span> <span class="hljs-string">fa-blind</span> <span class="hljs-comment"># 友链</span></code></pre>

<p>在nexT本地化文件中添加本地化配置，languages&#x2F;zh-CN.yml</p>
<pre><code class="hljs yaml"><span class="hljs-attr">menu:</span>
  <span class="hljs-attr">links:</span> <span class="hljs-string">友情链接</span></code></pre>

<p>接下来，就是创建友链页面的布局文件，在nexT主题的 layout&#x2F; 文件夹下创建 link.njk 文件，内容如下：</p>
<blockquote>
<p>语法参考Hexo文档中关与变量的描述和Numjucks文档</p>
<p>hexo变量:  <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/variables">https://hexo.io/zh-cn/docs/variables</a></p>
<p>Numjucks文档:  <a target="_blank" rel="noopener" href="http://mozilla.github.io/nunjucks/cn/templating.html">http://mozilla.github.io/nunjucks/cn/templating.html</a></p>
</blockquote>
<pre><code class="hljs html">&#123;% block content %&#125;
&#123;######################&#125;
&#123;### LINKS BLOCK ###&#125;
&#123;######################&#125;
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;links&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-id">#links</span>&#123;</span>
<span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-tag">a</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">text-decoration</span>: none<span class="hljs-meta">!important</span>;</span>
<span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>;</span>
<span class="language-css">            <span class="hljs-attribute">border-bottom</span>: none<span class="hljs-meta">!important</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#64CEAA</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.links</span>&#123;</span>
<span class="language-css">            <span class="hljs-attribute">display</span>: grid;</span>
<span class="language-css">            <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);</span>
<span class="language-css">            <span class="hljs-attribute">grid-column</span>-<span class="hljs-attribute">gap</span>: <span class="hljs-number">1rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">grid-row</span>-<span class="hljs-attribute">gap</span>: <span class="hljs-number">2rem</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1080px</span>) &#123;</span>
<span class="language-css">            <span class="hljs-selector-class">.links</span> &#123;</span>
<span class="language-css">                <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr;</span>
<span class="language-css">            &#125;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span>
<span class="language-css">            <span class="hljs-attribute">flex-direction</span>: row;</span>
<span class="language-css">            <span class="hljs-attribute">flex-wrap</span>: nowrap;</span>
<span class="language-css">            <span class="hljs-attribute">justify-content</span>: flex-start;</span>
<span class="language-css">            <span class="hljs-attribute">align-items</span>: center;</span>
<span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.3rem</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.12</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">6px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.04</span>);</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.avatar</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">4rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">4rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;</span>
<span class="language-css">            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">1rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span><span class="hljs-meta">!important</span>;</span>
<span class="language-css">            <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span><span class="hljs-meta">!important</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.link-main</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;</span>
<span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">4rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span>
<span class="language-css">            <span class="hljs-attribute">flex-direction</span>: column;</span>
<span class="language-css">            <span class="hljs-attribute">justify-content</span>: center;</span>
<span class="language-css">            <span class="hljs-attribute">align-items</span>: flex-start;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.link-main</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.site</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">1px</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.link-main</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.info</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#555</span>;</span>
<span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.link</span> <span class="hljs-selector-class">.tips</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8rem</span>;</span>
<span class="language-css">            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff0000</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css"></span>
<span class="language-css">        <span class="hljs-selector-class">.page-content</span> &#123;</span>
<span class="language-css">            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">2rem</span>;</span>
<span class="language-css">        &#125;</span>
<span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;links&quot;</span>&gt;</span>
        &#123;% for link in config.mylinks %&#125;
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&#123;&#123; link.avatar &#125;&#125;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link-main&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;site&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&#123;&#123; link.site &#125;&#125;&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>&#123;&#123; link.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span>&#123;&#123; link.info &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        &#123;% else %&#125;
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;link&quot;</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tips&quot;</span>&gt;</span>没有朋友!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        &#123;% endfor %&#125;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-content&quot;</span>&gt;</span>&#123;&#123; page.content &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

&#123;##########################&#125;
&#123;### END LINKS BLOCK ###&#125;
&#123;##########################&#125;
&#123;% endblock %&#125;
</code></pre>

<p>在nexT主题目录下的 layout&#x2F;page.njk 中引入刚才创建的 link.njk 布局文件</p>
<p>1.在 block title 中，仿照已有的内容，添加代码</p>
<pre><code class="hljs html">&#123;# 友情链接 #&#125;
&#123;%- elif page.type === &#x27;links&#x27; and not page.title %&#125;
  &#123;&#123;- __(&#x27;title.link&#x27;) + page_title_suffix &#125;&#125;</code></pre>

<p>2.在 page body 中，仿照已有的内容，添加代码</p>
<pre><code class="hljs html">&#123;% elif page.type === &#x27;links&#x27; %&#125;
  &#123;%- include &#x27;link.njk&#x27; -%&#125;</code></pre>

<p>最后，在hexo配置文件中，新增 mylinks 配置项，配置友链信息</p>
<pre><code class="hljs yaml"><span class="hljs-attr">mylinks:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">L.Y.P的博客</span>  <span class="hljs-comment">#友链名称</span>
    <span class="hljs-attr">site:</span> <span class="hljs-string">https://lypzz.com</span>  <span class="hljs-comment">#友链地址</span>
    <span class="hljs-attr">info:</span> <span class="hljs-string">我友我自己。</span>  <span class="hljs-comment">#友链描述</span>
    <span class="hljs-attr">avatar:</span> <span class="hljs-string">https://lypzz.com/images/avatar.jpg</span>  <span class="hljs-comment">#友链头像</span></code></pre>

<p>OK！</p>
<p><strong>创建收藏夹页面</strong></p>
<p>同上。</p>
</div>
</div>

<div class="post-end">
    <span>----- </span>
    <span>THE END</span>
    <span> -----</span>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(() => {
        // 表格添加滚动条
        $('table').wrap("<div class='table-wrap' style='width: 100%; overflow: auto;'></div>");
    });

</script></main>

    <footer>

</footer>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
    
</body>
</html>