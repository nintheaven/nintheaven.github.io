<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta name="description" content="">
    <meta name="keyword" content="">

    <title>git入门 | Nintheaven</title>
    <link rel="shortcut icon" href="/images/favicon.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
        
<link rel="stylesheet" href="/css/highlight/github.css">

        
<link rel="stylesheet" href="/css/post.css">

    
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <header>
    
    <div class="navbar-container">
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="/images/favicon.ico" alt="" width="30" height="24" class="d-inline-block align-text-top">
                Nintheaven
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 35vh;">
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/">首页</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/projects">项目</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/essays">随笔</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/notes">笔记</a>
                    </li>
                    
                </ul>

                <!--
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">搜索</button>
                </form>
                -->
            </div>
        </div>
    </nav>
</div>

    
    
</header>

    <main><div class="post">
    <h3 class="title">git入门</h3>

    <div class="meta">
        <div>
            <span class="page-class">笔记</span>
            <span>: </span>
            <a class="cate" href="/notes/#版本管理工具">版本管理工具</a>
        </div>
        <div class="date">
            <span>发布于</span>
            <span>: </span>
            <span>2022-10-11</span>
        </div>
    </div>

    <div class="content"><p>config, init, clone, add, commit, restore, checkout, log, .ignore文件, remote, push, pull, fetch, 标签，命令别名</p>
<span id="more"></span>

<h1 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h1><p>3个目录</p>
<ul>
<li>工作目录</li>
<li>暂存区</li>
<li>仓库目录</li>
</ul>
<p>3个状态</p>
<ul>
<li>已修改</li>
<li>已暂存：git add</li>
<li>已提交: git commit</li>
</ul>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>3个配置文件</p>
<ul>
<li>&#x2F;etc&#x2F;gitconfig，全局配置，使用 <code>git config --system</code></li>
<li>~&#x2F;.gitconfig 或 ~&#x2F;.config&#x2F;git&#x2F;config，当前用户配置， <code>使用git config --global</code></li>
<li>.git&#x2F;config，当前仓库配置，使用命令 <code>git config --local</code></li>
</ul>
<p>配置用户信息</p>
<p><code>git config --global user.name &quot;John Doe&quot;</code></p>
<p><code>git config --global user.email johndoe@example.com</code></p>
<p>配置编辑器</p>
<p><code>git config --global core.editor vim</code></p>
<p>查看配置信息</p>
<p><code>git config --list</code></p>
<p><code>git config user.name</code></p>
<h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><p><strong>获取仓库</strong></p>
<p>初始化仓库</p>
<p><code>git init</code></p>
<p>克隆仓库</p>
<p><code>git clone &lt;仓库地址&gt;</code></p>
<p>克隆仓库并重命名</p>
<p><code>git clone &lt;仓库地址&gt; &lt;新名称&gt;</code></p>
<p><strong>查看信息</strong></p>
<p>查看文件状态</p>
<p><code>git status</code></p>
<p><code>git status -s</code> # –short</p>
<p>查看已修改但尚未暂存的变化内容</p>
<p><code>git diff</code></p>
<p>查看已暂存的将要添加到下次提交的变化内容</p>
<p><code>git diff --staged</code></p>
<p><code>git diff --cached</code></p>
<p>查看提交历史</p>
<p><code>git log</code></p>
<p><code>git log --graph</code> # 显示Author与Date</p>
<p><code>git log --pretty=oneline</code></p>
<p><strong>暂存</strong>,<strong>取消暂存</strong>,<strong>提交</strong>,<strong>移除</strong></p>
<p>跟踪(暂存)文件或目录（递归的跟踪该目录下的所有文件）</p>
<p><code>git add &lt;文件或目录名称列表&gt;</code></p>
<p><code>git add *</code></p>
<p><code>git add --all</code></p>
<p>提交文件</p>
<p><code>git commit</code></p>
<p><code>git commit -m &quot;提交信息&quot;</code></p>
<p>暂存并提交(不包含新建的文件)</p>
<p><code>git commit -a -m &quot;提交信息&quot;</code></p>
<p>重新提交最近一次提交</p>
<p><code>git commit --amend</code></p>
<p>取消暂存(从暂存区移除)</p>
<p><code>git reset HEAD -- &lt;file&gt;...</code></p>
<p><code>git restore --staged &lt;file&gt;...</code></p>
<p>取消修改，将其还原为上次提交时的样子</p>
<p><code>git checkout -- &lt;file&gt;...</code></p>
<p>移除文件</p>
<ul>
<li><p>从暂存区域和工作目录同时移除</p>
<p><code>git rm &lt;文件列表&gt;</code></p>
<p><code>git rm -f &lt;文件列表&gt;</code></p>
</li>
<li><p>从git仓库和暂存区域移除，但在工作目录中保存</p>
<p><code>git rm --cached &lt;文件列表&gt;</code></p>
<p><code>git rm -r --cached &lt;目录&gt;</code></p>
</li>
</ul>
<p>移动（重命名）文件</p>
<p><code>git mv xxx yyy</code></p>
<h1 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h1><p>创建 .gitignore 文件，用于定义忽略规则：</p>
<ul>
<li>用#注释</li>
<li>匹配模式以 &#x2F; 开头，避免递归</li>
<li>匹配模式以 &#x2F; 结尾，指定目录</li>
<li>在匹配模式前面加 ! 取反</li>
<li>支持标准glob模式<ul>
<li>*匹配0个或多个任意字符</li>
<li>?匹配1个任意字符</li>
<li>[a-z]匹配任意1个在其中的字符</li>
<li>a&#x2F;**&#x2F;z匹配任意中间目录</li>
</ul>
</li>
</ul>
<p>示例</p>
<pre><code class="hljs plaintext"># no .a files
*.a

# but do track lib.a, even though you&#x27;re ignoring .a files above
!lib.a

# only ignore the TODO file in the current directory, not subdir/TODO
/TODO

# ignore all files in the build/ directory
build/

# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt

# ignore all .pdf files in the doc/ directory
doc/**/*.pdf</code></pre>

<h1 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h1><p>查看远程仓库</p>
<p><code>git remote</code></p>
<p><code>git remote -v</code></p>
<p><code>git remote show &lt;remote_name&gt;</code></p>
<p>添加远程仓库</p>
<p><code>git remote add &lt;remote_name&gt; &lt;URL&gt;</code></p>
<p>重命名远程仓库的简称</p>
<p><code>git remote rename &lt;old_name&gt; &lt;new_name&gt;</code></p>
<p>移除一个远程分支</p>
<p><code>git remote rm &lt;remote_name&gt;</code></p>
<p>拉取远程仓库中的内容(不会自动合并)</p>
<p><code>git fetch &lt;remote_name&gt;</code></p>
<blockquote>
<p>clone一个仓库,会自动将其添加为远程仓库，用origin作为其简称。</p>
</blockquote>
<p>拉取远程仓库中的内容（如果设置当前分支跟踪一个远程分支，pull命令自动拉取并合并远程分支到当前分支）</p>
<p><code>git pull</code></p>
<p><code>git pull &lt;remote_name&gt;</code></p>
<p><code>git pull &lt;remote_name&gt; &lt;remote_branch&gt;</code></p>
<p><code>git pull origin main</code></p>
<p>推送到远程仓库</p>
<p><code>git push</code></p>
<p><code>git push -u &lt;remote_name&gt;</code></p>
<p><code>git push -u &lt;remote_name&gt; &lt;remote_branch&gt;</code></p>
<p><code>git push -u origin main</code></p>
<p>推送到远程仓库，并指定上游仓库分支</p>
<p><code>git push --set-upstream origin main</code></p>
<h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><p><strong>查看</strong></p>
<p>查看全部标签</p>
<p><code>git tag</code></p>
<p><code>git tag --list</code></p>
<p>查看标签(使用通配符)</p>
<p><code>git tag --list &quot;v1.0.*&quot;</code></p>
<p>查看标签具体信息</p>
<p><code>git show 标签名</code></p>
<p><strong>创建</strong>,<strong>删除</strong>,<strong>推送</strong></p>
<p>给当前提交创建附注标签</p>
<p><code>git tag -a 标签名 -m &quot;描述信息&quot;</code></p>
<p>给当前提交创建轻量标签</p>
<p><code>git tag 标签名</code></p>
<p>给历史提交打标签</p>
<p>可以使用提交校验和信息，给历史提交打标签(使用<code>git log</code>查看校验和)</p>
<p><code>git tag -a 标签名 (部分)校验和</code></p>
<p>推送标签到远程仓库</p>
<p>使用<code>git push</code>时，tag信息不会被推送到远程仓库，需要使用以下命令进行推送</p>
<p><code>git push origin 标签名</code></p>
<p><code>git push origin --tags</code></p>
<p>删除本地标签</p>
<p><code>git tag -d 标签名</code></p>
<p>删除远程仓库中的标签</p>
<p><code>git push origin --delete 标签名</code></p>
<h1 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h1><p>可以为一些git命令设置别名</p>
<p>例如，取消暂存命令如下</p>
<p><code>git restore --staged &lt;file&gt;...</code></p>
<p>创建别名</p>
<p><code>git config --global alias.unstage &quot;restore --staged&quot;</code></p>
<p>使用别名替代git命令</p>
<p><code>git unstage &lt;file&gt;...</code></p>
</div>
</div>

<div class="post-end">
    <span>----- </span>
    <span>THE END</span>
    <span> -----</span>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(() => {
        // 表格添加滚动条
        $('table').wrap("<div class='table-wrap' style='width: 100%; overflow: auto;'></div>");
    });

</script></main>

    <footer>

</footer>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
    
</body>
</html>